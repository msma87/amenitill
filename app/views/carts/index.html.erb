<h1>AmeniTill ðŸ§¾</h1>

<!-- Section: List of available products -->
<h2>Available Products</h2>
<ul>
  <% @products.each do |product| %>
    <li>
      <!-- Display product name and price -->
      <%= product.name %> - â‚¬<%= number_with_precision(product.price, precision: 2) %>

      <!-- Button to add product to cart -->
      <!-- It sends a POST request to the add_to_cart route with the product code -->
      <%= button_to "Add to Cart", add_to_cart_path(code: product.code), method: :post %>
    </li>
  <% end %>
</ul>

<!-- Section: Cart content -->
<h2>Your Cart</h2>

<% if @cart_items.any? %>
  <ul>
    <% @cart_items.each_with_index do |item, index| %>
      <li>
        <%= item.name %>
        <%= button_to "Remove", remove_from_cart_path(code: item.code), method: :post, form: { data: { turbo: false } } %>
      </li>
    <% end %>
  </ul>

  <!-- Button to empty the cart -->
  <%= button_to "Empty Cart", empty_cart_path, method: :post, data: { turbo: false } %>

<% else %>
  <!-- Message if the cart is empty -->
  <p>Your cart is empty.</p>
<% end %>
